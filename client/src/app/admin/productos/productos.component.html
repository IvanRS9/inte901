<div class="flex-1 flex justify-center" style="width: calc(100vw - 18rem);">
    <h1 class="text-5xl font-bold pt-5 mt-5 text-secondary">Productos</h1>
</div>

<form (ngSubmit)="onSubmit()" #productoForm="ngForm">
  <div class="flex justify-end my-5 me-5 pr-5">
    <hlm-dialog>
      <button id="edit-profile" brnDialogTrigger hlmBtn class="bg-secondary text-white">Agregar</button>
      <hlm-dialog-content class="sm:max-w-[425px]" *brnDialogContent="let ctx">
        <hlm-dialog-header>
          <h3 hlmDialogTitle>Agregar producto</h3>
          <p hlmDialogDescription>Ingresa los detalles del nuevo producto. Haz clic en guardar cuando termines.</p>
        </hlm-dialog-header>
        <div class="py-4 grid gap-4">
          <div class="items-center grid grid-cols-4 gap-4">
            <label hlmLabel for="name" class="text-right">Nombre</label>
            <input hlmInput id="name" name="nombre" [(ngModel)]="producto.nombre" placeholder="Nombre del producto" class="col-span-3" />
          </div>
          <div class="items-center grid grid-cols-4 gap-4">
            <label hlmLabel for="precio" class="text-right">Precio</label>
            <input hlmInput id="precio" name="precio" type="number" [(ngModel)]="producto.precio" placeholder="Precio del producto" class="col-span-3" />
          </div>
          <div class="items-center grid grid-cols-4 gap-4">
            <label hlmLabel for="description" class="text-right">Descripción</label>
            <input hlmInput id="description" name="descripcion" [(ngModel)]="producto.descripcion" placeholder="Descripción del producto" class="col-span-3" />
          </div>
          <div class="items-center grid grid-cols-4 gap-4">
            <label hlmLabel for="tipo" class="text-right">Tipo</label>
            <input hlmInput id="tipo" name="tipo" [(ngModel)]="producto.tipo" placeholder="Tipo de producto" class="col-span-3" />
          </div>
          <div class="items-center grid grid-cols-4 gap-4">
            <label hlmLabel for="cantidadXReceta" class="text-right">Cantidad por receta</label>
            <input hlmInput id="cantidadXReceta" name="cantidadXReceta" type="number" [(ngModel)]="producto.cantidadXReceta" placeholder="Cantidad del producto por receta" class="col-span-3" />
          </div>
          <div class="items-center grid grid-cols-4 gap-4">
            <label hlmLabel for="temperatura" class="text-right">Temperatura</label>
            <select id="temperatura" name="temperatura" [(ngModel)]="producto.temperatura" hlmInput class="col-span-3">
              <option value="caliente">Caliente</option>
              <option value="frio">Frío</option>
            </select>
          </div>
          <div class="items-center grid grid-cols-4 gap-4">
            <label hlmLabel for="imagen" class="text-right">Imagen</label>
            <input hlmInput type="file" id="imagen" name="imagen" class="col-span-3" (change)="onFileChange($event)" />
          </div>
        </div>
        <hlm-dialog-footer>
          <button hlmBtn type="submit">Guardar</button>
        </hlm-dialog-footer>
      </hlm-dialog-content>
    </hlm-dialog>
  </div>
</form>


<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-5">
  <div *ngFor="let product of (productos$ | async); trackBy: trackByProductId" class="bg-white shadow-md rounded-lg p-4">
      <img [src]="'../../../assets/img/' + product.imagen" alt="{{ product.nombre }}" class="w-full h-48 object-cover rounded-t-lg">
      <div class="p-4">
        <h2 class="text-xl font-bold">{{ product.nombre }}</h2>
        <p class="text-gray-600">{{ product.descripcion }}</p>
      </div>
    </div>
  </div>